---
tags: weekly, rustc
---

# T-compiler Meeting Agenda 2023-05-18

## Announcements

- Reminder: if you see a PR/issue that seems like there might be legal implications due to copyright/IP/etc, please let the Core team know (or at least message @_**pnkfelix** or @_**Wesley Wiser** so we can pass it along).
- [Types team meeting: polonius deep dive](https://www.google.com/calendar/event?eid=MTg3MDhpdTc3YXBqMGMzbnNxanUwdWZnazhfMjAyMzA1MjJUMTQwMDAwWiA2dTVycnRjZTZscnR2MDdwZmkzZGFtZ2p1c0Bn) at <time:2023-05-22T10:00:00-04:00>

### Other WG meetings ([calendar link](https://calendar.google.com/calendar/embed?src=6u5rrtce6lrtv07pfi3damgjus%40group.calendar.google.com))
- [wg-async weekly](https://www.google.com/calendar/event?eid=ZDYzaGYwYnM4bWs2cHA3ZGRmazhvOGVjOXJfMjAyMzA1MThUMjAzMDAwWiA2dTVycnRjZTZscnR2MDdwZmkzZGFtZ2p1c0Bn) at <time:2023-05-18T16:30:00-04:00>
- [wg-rls-2.0 weekly sync-up](https://www.google.com/calendar/event?eid=MXJnbzBscDExNHJjNmVsdGhsaW8xcDljMmdfMjAyMzA1MjJUMTUwMDAwWiA2dTVycnRjZTZscnR2MDdwZmkzZGFtZ2p1c0Bn) at <time:2023-05-22T11:00:00-04:00>
- [Async WG triage meeting](https://www.google.com/calendar/event?eid=cXZ1NGZncDF1dXA1NnVnMnA1M2Mzb2lvdWVfMjAyMzA1MjJUMTUzMDAwWiA2dTVycnRjZTZscnR2MDdwZmkzZGFtZ2p1c0Bn) at <time:2023-05-22T11:30:00-04:00>

## MCPs/FCPs

- New MCPs (take a look, see if you like them!)
  - "Runtime checks for occupied niches" [compiler-team#624](https://github.com/rust-lang/compiler-team/issues/624) 
  - "Tier 3 target proposal: bare-metal loongarch64" [compiler-team#628](https://github.com/rust-lang/compiler-team/issues/628) 
  - "Add support for Zephyr OS" [compiler-team#629](https://github.com/rust-lang/compiler-team/issues/629) 
  - "Add `mips64r6` option to `target_arch`" [compiler-team#632](https://github.com/rust-lang/compiler-team/issues/632) 
  - "Consistently use "region" terminology in later stages of the compiler" [compiler-team#634](https://github.com/rust-lang/compiler-team/issues/634) 
  - "Add a new `--build-id` flag to rustc" [compiler-team#635](https://github.com/rust-lang/compiler-team/issues/635) 
- Old MCPs (stale MCP might be closed as per [MCP procedure](https://forge.rust-lang.org/compiler/mcp.html#when-should-major-change-proposals-be-closed))
  - None at this time
- Old MCPs (not seconded, take a look)
  - "Rustc Contributor Program Major Change Proposal" [compiler-team#557](https://github.com/rust-lang/compiler-team/issues/557) (last review activity: 4 months ago)
  - "Take MIR `Analysis` by `&mut`" [compiler-team#598](https://github.com/rust-lang/compiler-team/issues/598) (last review activity: about 55 days ago)
  - "-C linker-flavor=clang" [compiler-team#601](https://github.com/rust-lang/compiler-team/issues/601) (last review activity: about 55 days ago)
  - "Stable -C binary-dep-depinfo flag" [compiler-team#604](https://github.com/rust-lang/compiler-team/issues/604) (last review activity: about 6 days ago)
  - "Increase `TypeId`'s hash from 64 bits to 128 bits." [compiler-team#608](https://github.com/rust-lang/compiler-team/issues/608) (last review activity: about 27 days ago)
  - "Disallow incoherent cfgs" [compiler-team#610](https://github.com/rust-lang/compiler-team/issues/610) (last review activity: about 34 days ago)
  - "2024: Decrease debuginfo generated by  `-Cdebuginfo=1`" [compiler-team#613](https://github.com/rust-lang/compiler-team/issues/613) (last review activity: about 27 days ago)
  - "Cell Broadband Engine SPU support" [compiler-team#614](https://github.com/rust-lang/compiler-team/issues/614) (last review activity: about 34 days ago)
  - "Revise error code documentation standard" [compiler-team#615](https://github.com/rust-lang/compiler-team/issues/615) (last review activity: about 27 days ago)
- Pending FCP requests (check your boxes!)
  - No pending FCP requests this time.
- Things in FCP (make sure you're good with it)
  - "Add a blanket flag to enable/disable codegen UB checks" [compiler-team#625](https://github.com/rust-lang/compiler-team/issues/625) 
  - "Unimplement `unsized_locals`" [compiler-team#630](https://github.com/rust-lang/compiler-team/issues/630) 
  - "Experimental feature gate for `extern "crabi"` ABI" [compiler-team#631](https://github.com/rust-lang/compiler-team/issues/631) 
  - "Report all lints, even if other errors already occurred." [compiler-team#633](https://github.com/rust-lang/compiler-team/issues/633) 
  - "[mir-opt] SimplifyLocals should also clean up debuginfo" [rust#110702](https://github.com/rust-lang/rust/pull/110702) 
- Accepted MCPs
  - "Integrate Enzyme into nightly rustc" [compiler-team#611](https://github.com/rust-lang/compiler-team/issues/611) 
  - "Add a `--print=unmap-path-prefixes` flag" [compiler-team#612](https://github.com/rust-lang/compiler-team/issues/612) 
  - "move constructors from `TyCtxt` to the constructed types" [compiler-team#616](https://github.com/rust-lang/compiler-team/issues/616) 
  - "Rename `NEEDS_SUBST` and `NEEDS_INFER`" [compiler-team#617](https://github.com/rust-lang/compiler-team/issues/617) 
  - "Enable the LLVM option `NoTrapAfterNoreturn` when `TrapUnreachable` is enabled." [compiler-team#618](https://github.com/rust-lang/compiler-team/issues/618) 
  - "Redesign bootstrap stages" [compiler-team#619](https://github.com/rust-lang/compiler-team/issues/619) 
  - "Policy for ICEs on incorrect usage of internal-only features" [compiler-team#620](https://github.com/rust-lang/compiler-team/issues/620) 
  - "Remove multi-field `repr(simd)`" [compiler-team#621](https://github.com/rust-lang/compiler-team/issues/621) 
  - "Stronger typing for `DefId`s" [compiler-team#623](https://github.com/rust-lang/compiler-team/issues/623) 
- Finalized FCPs (disposition merge)
  - "Tracking Issue for `debugger_visualizer`" [rust#95939](https://github.com/rust-lang/rust/issues/95939) 
  - "Evaluate place expression in `PlaceMention`" [rust#104844](https://github.com/rust-lang/rust/pull/104844) 
  - "Add deployment-target --print flag for Apple targets" [rust#105354](https://github.com/rust-lang/rust/pull/105354) 
  - "Update the version of musl used on `*-linux-musl` targets to 1.2.3" [rust#107129](https://github.com/rust-lang/rust/pull/107129) 
  - "Remove misleading target feature aliases" [rust#107707](https://github.com/rust-lang/rust/pull/107707) 
  - "Only check outlives goals on impl compared to trait" [rust#109356](https://github.com/rust-lang/rust/pull/109356) 
  - "Stabilize raw-dylib, link_ordinal, import_name_type and -Cdlltool" [rust#109677](https://github.com/rust-lang/rust/pull/109677) 
  - "rustdoc: restructure type search engine to pick-and-use IDs" [rust#110371](https://github.com/rust-lang/rust/pull/110371) 
  - "Use fulfillment to check `Drop` impl compatibility" [rust#110577](https://github.com/rust-lang/rust/pull/110577)
  
### WG checkins

- @_*WG-diagnostics* by @**Esteban KÃ¼ber** and @**oli** ([previous checkin](https://hackmd.io/4CKNflTQQIKOxk7jiuh7NQ#WG-checkins)):
  > Checkin text

- @_*WG-rustc-dev-guide* by @**Santiago Pastorino** and @**Yuki Okushi|217081** ([previous checkin](https://hackmd.io/XSIWiDBHTyyb33sarCfpEg#WG-checkins)):
  > Checkin text

## Backport nominations

[T-compiler stable](https://github.com/rust-lang/rust/issues?q=is%3Aall+label%3Abeta-nominated+-label%3Abeta-accepted+label%3AT-compiler) / [T-compiler beta](https://github.com/rust-lang/rust/issues?q=is%3Aall+label%3Astable-nominated+-label%3Astable-accepted+label%3AT-compiler)
- :beta: [1.70.0] "Dont check `must_use` on nested `impl Future` from fn" [rust#111491](https://github.com/rust-lang/rust/pull/111491)
  - PR authored by @_**Michael Goulet (compiler-errors)** fixes #111484, regression found in the latest crater run (maybe a P-medium)
<!--
/poll Approve beta backport of #111491?
approve
decline
don't know
-->
- :beta: [1.70.0] "Encode `VariantIdx` so we can decode ADT variants in the right order" [rust#111494](https://github.com/rust-lang/rust/pull/111494)
  - PR authored by @_**Michael Goulet (compiler-errors)** fixes #111483, regression found in latest crater run (maybe a P-medium)
<!--
/poll Approve beta backport of #111494?
approve
decline
don't know
-->
- :beta: [1.70.0] "Simplify find_width_of_character_at_span." [rust#111560](https://github.com/rust-lang/rust/pull/111560)
  - PR authored by @_**Mara** fixes #111485, regression found in latest crater run (maybe a P-medium)
<!--
/poll Approve beta backport of #111560?
approve
decline
don't know
-->
- No stable nominations for `T-compiler` this time.

[T-rustdoc stable](https://github.com/rust-lang/rust/issues?q=is%3Aall+label%3Abeta-nominated+-label%3Abeta-accepted+label%3AT-rustdoc) / [T-rustdoc beta](https://github.com/rust-lang/rust/issues?q=is%3Aall+label%3Astable-nominated+-label%3Astable-accepted+label%3AT-rustdoc)
- No beta nominations for `T-rustdoc` this time.
- No stable nominations for `T-rustdoc` this time.

:back: / :shrug: / :hand:

## PRs S-waiting-on-team

[T-compiler](https://github.com/rust-lang/rust/pulls?q=is%3Aopen+label%3AS-waiting-on-team+label%3AT-compiler)
- "Add new simpler and more explicit syntax for check-cfg" [rust#111072](https://github.com/rust-lang/rust/pull/111072)
  - nominated to discuss naming for this attribute
- Older issues [in progress or waiting on other teams](https://hackmd.io/XYr1BrOWSiqCrl8RCWXRaQ)

### Oldest PRs waiting for review

[T-compiler](https://github.com/rust-lang/rust/pulls?q=is%3Apr+is%3Aopen+sort%3Aupdated-asc+label%3AS-waiting-on-review+draft%3Afalse+label%3AT-compiler)
- "Implement jump threading MIR opt" [rust#107009](https://github.com/rust-lang/rust/pull/107009) (last review activity: about 17 days ago)
  - cc: @**Jak{e,ob} Degen** (also PR needs a rebase)
- "Shrink error variants for layout and fn_abi" [rust#111035](https://github.com/rust-lang/rust/pull/111035) (last review activity: about 17 days ago)
  - cc: @**TaKO8Ki**
- "fix(resolve): only disambiguate binding key during define" [rust#110493](https://github.com/rust-lang/rust/pull/110493) (last review activity: about 29 days ago)
  - it's approved, seems it can be merged? 
- "Use apple-m1 as target CPU for aarch64-apple-darwin." [rust#109899](https://github.com/rust-lang/rust/pull/109899) (last review activity: about 44 days ago)
  - seems a rather tiny change, maybe can anyone just approve it?
- "Add note for identifier following by array literal error" [rust#108222](https://github.com/rust-lang/rust/pull/108222) (last review activity: about 55 days ago)
  - @**pnkfelix** you wanted to add a comment ([past meeting](https://rust-lang.zulipchat.com/#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.5D.202023-05-04/near/355796089)) and maybe close?

## Issues of Note

### Short Summary

- [0 T-compiler P-critical issues](https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AT-compiler+label%3AP-critical)
  - [0 of those are unassigned](https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AT-compiler+label%3AP-critical+no%3Aassignee)
- [62 T-compiler P-high issues](https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AT-compiler+label%3AP-high)
  - [29 of those are unassigned](https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AT-compiler+label%3AP-high+no%3Aassignee)
- [0 P-critical, 1 P-high, 2 P-medium, 0 P-low regression-from-stable-to-beta](https://github.com/rust-lang/rust/labels/regression-from-stable-to-beta)
- [0 P-critical, 0 P-high, 2 P-medium, 2 P-low regression-from-stable-to-nightly](https://github.com/rust-lang/rust/labels/regression-from-stable-to-nightly)
- [0 P-critical, 36 P-high, 95 P-medium, 15 P-low regression-from-stable-to-stable](https://github.com/rust-lang/rust/labels/regression-from-stable-to-stable)

### P-critical

[T-compiler](https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AP-critical+label%3AT-compiler)
- No `P-critical` issues for `T-compiler` at this time.

[T-types](https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AP-critical+label%3AT-types)
- No `P-critical` issues for `T-types` at this time.

[T-rustdoc](https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AP-critical+label%3AT-rustdoc)
- No `P-critical` issues for `T-rustdoc` at this time.

### P-high regressions

[P-high beta regressions](https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3Aregression-from-stable-to-beta+label%3AP-high+-label%3AT-infra+-label%3AT-libs+-label%3AT-libs-api+-label%3AT-release+-label%3AT-rustdoc+-label%3AT-core)
- "mutable_transmutes lint should catch transmutes from a type without interior mutability to one with" [rust#111229](https://github.com/rust-lang/rust/issues/111229)
  - Regression after LLVM 16 upgrade in beta channel (happens with `1.70.0-beta.2` + `--release`)
  - seems to cause undefined behavior in the generated IR code
  - related to Firefox bug reported in #111507
- "const-propagated `arithmetic_overflow` in unreachable code" [rust#109731](https://github.com/rust-lang/rust/issues/109731)
  - Discussed last week ([Zulip notes](https://rust-lang.zulipchat.com/#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bsteering.5D.202023-05-12.20lint.20bugs.20vs.20QOI.20compiler-team.23627/near/357903013)), nominated again for discussion (see below) to decide whether to ship it or not as is
  - Specifically [from here](https://rust-lang.zulipchat.com/#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bsteering.5D.202023-05-12.20lint.20bugs.20vs.20QOI.20compiler-team.23627/near/357902106)

[Unassigned P-high nightly regressions](https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3Aregression-from-stable-to-nightly+label%3AP-high+no%3Aassignee+-label%3AT-infra+-label%3AT-libs+-label%3AT-libs-api+-label%3AT-release+-label%3AT-rustdoc+-label%3AT-core+)
- No unassigned `P-high` nightly regressions this time.

## Performance logs

> [triage logs for 2023-05-16](https://github.com/rust-lang/rustc-perf/blob/3e524dbaabc544ff0865691b9a54078a48b7e8ab/triage/2023-05-16.md)

The last two weeks mostly have small changes across a number of benchmarks, no
widespread large regressions or improvements.

Triage done by **@simulacrum**.
Revision range: [a368898d..3ea9ad532](https://perf.rust-lang.org/?start=a368898de758e1b8def6c9060044a5b40eb79e84&end=3ea9ad532474343426e564b997891e459cda89a6&absolute=false&stat=instructions%3Au)

**Summary**:

| (instructions:u)         | mean  | range          | count |
|:------------------------:|:-----:|:--------------:|:-----:|
| Regressions (primary)    | 0.9%  | [0.2%, 2.0%]   | 96    |
| Regressions (secondary)  | 1.1%  | [0.2%, 3.2%]   | 60    |
| Improvements (primary)   | -1.3% | [-4.4%, -0.3%] | 10    |
| Improvements (secondary) | -3.3% | [-7.2%, -0.6%] | 16    |
| All  (primary)           | 0.6%  | [-4.4%, 2.0%]  | 106   |


6 Regressions, 3 Improvements, 4 Mixed; 2 of them in rollups
90 artifact comparisons made in total

#### Regressions

Rollup of 6 pull requests [#111248](https://github.com/rust-lang/rust/pull/111248) [(Comparison Link)](https://perf.rust-lang.org/compare.html?start=4a18324a4df6bc98bec0b54d35908d7a9cdc7c32&end=4b94c232192b0fa0314b5afa18e366356e210c4c&stat=instructions:u)

| (instructions:u)         | mean | range        | count |
|:------------------------:|:----:|:------------:|:-----:|
| Regressions (primary)    | -    | -            | 0     |
| Regressions (secondary)  | 0.8% | [0.5%, 1.6%] | 11    |
| Improvements (primary)   | -    | -            | 0     |
| Improvements (secondary) | -    | -            | 0     |
| All  (primary)           | -    | -            | 0     |

Minor regression limited to the `coercion` benchmark.

Populate effective visibilities in 'rustc_privacy'  [#110907](https://github.com/rust-lang/rust/pull/110907) [(Comparison Link)](https://perf.rust-lang.org/compare.html?start=905d5a38d69328385ce9963c65c385734c60322d&end=31a4f2da575f5e335bdbbe7f12a694f9e74ad0a1&stat=instructions:u)

| (instructions:u)         | mean | range        | count |
|:------------------------:|:----:|:------------:|:-----:|
| Regressions (primary)    | 0.5% | [0.2%, 1.6%] | 72    |
| Regressions (secondary)  | 0.5% | [0.2%, 1.2%] | 15    |
| Improvements (primary)   | -    | -            | 0     |
| Improvements (secondary) | -    | -            | 0     |
| All  (primary)           | 0.5% | [0.2%, 1.6%] | 72    |

Populate effective visibilities in `rustc_privacy` (take 2) [#111425](https://github.com/rust-lang/rust/pull/111425) [(Comparison Link)](https://perf.rust-lang.org/compare.html?start=2e18605af29ccf875cdcb539a522f11f5ac44113&end=ad6ab11234ae885913229f6de2c4465bdc0d76f3&stat=instructions:u)

| (instructions:u)         | mean | range        | count |
|:------------------------:|:----:|:------------:|:-----:|
| Regressions (primary)    | 0.7% | [0.4%, 1.5%] | 25    |
| Regressions (secondary)  | 0.6% | [0.3%, 1.0%] | 10    |
| Improvements (primary)   | -    | -            | 0     |
| Improvements (secondary) | -    | -            | 0     |
| All  (primary)           | 0.7% | [0.4%, 1.5%] | 25    |

[#111260](https://github.com/rust-lang/rust/pull/111260) addresses performance regressions in these two PRs.

Disable nrvo mir opt [#111007](https://github.com/rust-lang/rust/pull/111007) [(Comparison Link)](https://perf.rust-lang.org/compare.html?start=a0111af531178e48375f14f838d7a2298524067c&end=dfe31889e10e36eed53327d1ca624fbf21b475a5&stat=instructions:u)

| (instructions:u)         | mean | range        | count |
|:------------------------:|:----:|:------------:|:-----:|
| Regressions (primary)    | 0.5% | [0.2%, 2.1%] | 109   |
| Regressions (secondary)  | 0.5% | [0.1%, 0.9%] | 55    |
| Improvements (primary)   | -    | -            | 0     |
| Improvements (secondary) | -    | -            | 0     |
| All  (primary)           | 0.5% | [0.2%, 2.1%] | 109   |

Disables an optimization known to have miscompilations. Eventually we should
re-land something that has similar benefits.

Use dynamic dispatch for queries [#108638](https://github.com/rust-lang/rust/pull/108638) [(Comparison Link)](https://perf.rust-lang.org/compare.html?start=3603a84a3d74d0b70dbbdaa47ed8f8a306f3fe7f&end=8e8116cfe5b1affcfcc22ffb6bb0152573488114&stat=instructions:u)

| (instructions:u)         | mean | range        | count |
|:------------------------:|:----:|:------------:|:-----:|
| Regressions (primary)    | 0.6% | [0.3%, 1.0%] | 74    |
| Regressions (secondary)  | 0.7% | [0.1%, 2.2%] | 61    |
| Improvements (primary)   | -    | -            | 0     |
| Improvements (secondary) | -    | -            | 0     |
| All  (primary)           | 0.6% | [0.3%, 1.0%] | 74    |

Cuts bootstrap compile times (33% win for rustc_query_impl), some further work is expected to regain some of the lost performance.

Combine three generalizer implementations [#111221](https://github.com/rust-lang/rust/pull/111221) [(Comparison Link)](https://perf.rust-lang.org/compare.html?start=ce5919fcef67103098219e1868f741e56fc90963&end=ea54255501221b26bf2242c09cbd0924dc8ee1ea&stat=instructions:u)

| (instructions:u)         | mean | range        | count |
|:------------------------:|:----:|:------------:|:-----:|
| Regressions (primary)    | 0.5% | [0.3%, 0.8%] | 11    |
| Regressions (secondary)  | -    | -            | 0     |
| Improvements (primary)   | -    | -            | 0     |
| Improvements (secondary) | -    | -            | 0     |
| All  (primary)           | 0.5% | [0.3%, 0.8%] | 11    |

Regression is relatively small and plausibly due to slight optimization changes; did not occur in original perf run.

#### Improvements

Restrict `From<S>` for `{D,Subd}iagnosticMessage`. [#110579](https://github.com/rust-lang/rust/pull/110579) [(Comparison Link)](https://perf.rust-lang.org/compare.html?start=b4571bed994a901e6dbd0b28e25e91a57758c549&end=71af5c4074cf1993551c10d8e4a1d6da9c27ce33&stat=instructions:u)

| (instructions:u)         | mean  | range          | count |
|:------------------------:|:-----:|:--------------:|:-----:|
| Regressions (primary)    | -     | -              | 0     |
| Regressions (secondary)  | -     | -              | 0     |
| Improvements (primary)   | -0.5% | [-0.5%, -0.4%] | 3     |
| Improvements (secondary) | -0.6% | [-0.8%, -0.5%] | 5     |
| All  (primary)           | -0.5% | [-0.5%, -0.4%] | 3     |

Rollup of 6 pull requests [#111414](https://github.com/rust-lang/rust/pull/111414) [(Comparison Link)](https://perf.rust-lang.org/compare.html?start=63fc57b98eea5d6d84f1ccc4dbfcb12d58ad430b&end=25444e5a2e7293dbb4932df1301b9be4222244fe&stat=instructions:u)

| (instructions:u)         | mean  | range          | count |
|:------------------------:|:-----:|:--------------:|:-----:|
| Regressions (primary)    | -     | -              | 0     |
| Regressions (secondary)  | -     | -              | 0     |
| Improvements (primary)   | -5.7% | [-5.7%, -5.7%] | 1     |
| Improvements (secondary) | -     | -              | 0     |
| All  (primary)           | -5.7% | [-5.7%, -5.7%] | 1     |

Align unsized locals [#111374](https://github.com/rust-lang/rust/pull/111374) [(Comparison Link)](https://perf.rust-lang.org/compare.html?start=1623978dc41701201ec4daf36b3f748d661e7194&end=2c41369acc445d04129db40ba998dd7a89fb0d2e&stat=instructions:u)

| (instructions:u)         | mean  | range          | count |
|:------------------------:|:-----:|:--------------:|:-----:|
| Regressions (primary)    | -     | -              | 0     |
| Regressions (secondary)  | -     | -              | 0     |
| Improvements (primary)   | -0.4% | [-0.4%, -0.4%] | 2     |
| Improvements (secondary) | -0.5% | [-0.7%, -0.3%] | 5     |
| All  (primary)           | -0.4% | [-0.4%, -0.4%] | 2     |


#### Mixed

Update hashbrown from 0.12.3 to 0.13.1 for std [#111306](https://github.com/rust-lang/rust/pull/111306) [(Comparison Link)](https://perf.rust-lang.org/compare.html?start=c4190f2d3a46a59f435f7b42f58bc22b2f4d6917&end=ad6b20bf5225c65aab30169c9a173719f5bdfc04&stat=instructions:u)

| (instructions:u)         | mean  | range          | count |
|:------------------------:|:-----:|:--------------:|:-----:|
| Regressions (primary)    | 0.4%  | [0.4%, 0.4%]   | 1     |
| Regressions (secondary)  | 0.6%  | [0.2%, 1.0%]   | 2     |
| Improvements (primary)   | -0.3% | [-0.4%, -0.2%] | 4     |
| Improvements (secondary) | -0.6% | [-0.8%, -0.5%] | 4     |
| All  (primary)           | -0.1% | [-0.4%, 0.4%]  | 5     |

Uplift `clippy::{drop,forget}_{ref,copy}` lints [#109732](https://github.com/rust-lang/rust/pull/109732) [(Comparison Link)](https://perf.rust-lang.org/compare.html?start=0b795044c6f0854445f1f2bb6443e87848e150d1&end=077fc26f0acfa54e9c580534616c17ffc279a9d4&stat=instructions:u)

| (instructions:u)         | mean  | range          | count |
|:------------------------:|:-----:|:--------------:|:-----:|
| Regressions (primary)    | 0.5%  | [0.4%, 0.8%]   | 5     |
| Regressions (secondary)  | -     | -              | 0     |
| Improvements (primary)   | -     | -              | 0     |
| Improvements (secondary) | -1.4% | [-1.9%, -1.0%] | 4     |
| All  (primary)           | 0.5%  | [0.4%, 0.8%]   | 5     |

Remove useless `assume`s from `slice::iter(_mut)` [#111447](https://github.com/rust-lang/rust/pull/111447) [(Comparison Link)](https://perf.rust-lang.org/compare.html?start=9850584a4e5e4b7e5cebd9d90c27d8b88591f264&end=16d3e18281fde75eb6c62ebb8363af28de8a3ef0&stat=instructions:u)

| (instructions:u)         | mean  | range          | count |
|:------------------------:|:-----:|:--------------:|:-----:|
| Regressions (primary)    | -     | -              | 0     |
| Regressions (secondary)  | 1.1%  | [1.1%, 1.1%]   | 2     |
| Improvements (primary)   | -0.8% | [-1.7%, -0.3%] | 85    |
| Improvements (secondary) | -0.7% | [-1.4%, -0.4%] | 46    |
| All  (primary)           | -0.8% | [-1.7%, -0.3%] | 85    |

Fix the `FileEncoder` buffer size. [#111088](https://github.com/rust-lang/rust/pull/111088) [(Comparison Link)](https://perf.rust-lang.org/compare.html?start=0bcfd2d96efe7a2cb5205c3af1b9eea17423fe65&end=8006510ab0f69ee75e9c3f7e8bff3776886dae51&stat=instructions:u)

| (instructions:u)         | mean  | range          | count |
|:------------------------:|:-----:|:--------------:|:-----:|
| Regressions (primary)    | -     | -              | 0     |
| Regressions (secondary)  | 2.1%  | [2.1%, 2.1%]   | 1     |
| Improvements (primary)   | -0.3% | [-0.5%, -0.3%] | 10    |
| Improvements (secondary) | -0.4% | [-0.7%, -0.2%] | 12    |
| All  (primary)           | -0.3% | [-0.5%, -0.3%] | 10    |


## Nominated Issues

[T-compiler](https://github.com/rust-lang/rust/issues?q=is%3Aopen+label%3AI-compiler-nominated)
- "const-propagated `arithmetic_overflow` in unreachable code" [rust#109731](https://github.com/rust-lang/rust/issues/109731)
  - Left open the point about having the lint or not, about users' expectations ("should I report this regression or just fix my code?") or treat it a low-prio regression [Zulip discussion](https://rust-lang.zulipchat.com/#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bsteering.5D.202023-05-12.20lint.20bugs.20vs.20QOI.20compiler-team.23627/near/357903395)
- "Tracking Issue for `debugger_visualizer`" [rust#95939](https://github.com/rust-lang/rust/issues/95939)
  - Left nominated after last week discussion ([notes](https://rust-lang.zulipchat.com/#narrow/stream/238009-t-compiler.2Fmeetings/topic/.5Bweekly.5D.202023-05-11/near/357610408) ) to discuss whether to revert stabilization of #95939 or fix it
  - @**mw** volunteered to have a look at it
- "Add new simpler and more explicit syntax for check-cfg" [rust#111072](https://github.com/rust-lang/rust/pull/111072)
  - nominated by @**Vadim Petrochenkov** for discussion on naming

[RFC](https://github.com/rust-lang/rfcs/issues?q=is%3Aopen+label%3AI-compiler-nominated)
- No I-compiler-nominated RFCs this time.

## Next week's WG checkins

- Impl Trait initiative by @**oli**
- @_*WG-llvm* by @**nagisa** and @**Nikita Popov**

Agenda draft: https://hackmd.io/jG2Ea1RxQJuQye5kIiiHkA
